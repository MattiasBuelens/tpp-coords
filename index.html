<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title></title>
	<link rel="stylesheet" type="text/css" href="coords.css" />
</head>
<body data-bind="css: {
	'instructions-disabled': !pref.instructions(),
	'grid-disabled': !pref.grid(),
	'rekt-small-disabled': !pref.rektCoords(),
	'refs-disabled': !pref.refs()
	}">
<section class="contents">
<p class="tm"><strong id="game-name" data-bind="text: game().name">?</strong> version</p>

<h3>Contents</h3>
<ul id="toc" class="nav">
	<li><a href="#↑">Top</a>
	<ul>
		<li><a href="#instructions">Instructions</a></li>
		<li><a href="#prefs">Preferences</a></li>
	</ul>
	</li>
	<!-- ko foreach: game().children() -->
	<li><a data-bind="text: name, attr: { href: '#'+fullId }">Category</a>
	<ul data-bind="foreach: children()">
		<li><a data-bind="text: name, attr: { href: '#'+fullId }">Menu</a></li>
	</ul>
	</li>
	<!-- /ko -->
</ul>
</section>

<section class="if" data-spy="scroll" data-target=".contents" style="position: relative;">
<div id="↑"></div>

<aside id="instructions">
<p>This page allows you to find coordinates that click certain buttons while avoiding others.</p>

<h3>Instructions</h3>
<ul>
	<li><strong>Check</strong> the boxes below to select constraints. Key:
	<ul>
		<li><input type="checkbox" data-bind="tppNoClick: true" checked       /> I want to click this button</li>
		<li><input type="checkbox" data-bind="tppNoClick: true, tppInd: true" /> I want to avoid clicking this button</li>
		<li><input type="checkbox" data-bind="tppNoClick: true"               /> I don’t care if this button is clicked</li>
	</ul>
		<a href="#" id="example">Example: Fight but avoid items</a><br />
		As you click, the blue regions update, satisfying the constraints.</li>
	<li><strong>Click</strong> on a screenshot below to view it enlarged on the main screen.</li>
	<li><strong>Click</strong> the main screen to list buttons triggered by the clicked coordinate,
		or just type in a coordinate. Press arrow keys to nudge the cursor.</li>
	<li><strong>Share</strong> your configuration by copying the URL.</li>
</ul>
</aside>

<div id="prefs">
<h3>Preferences</h3>
<ul>
	<li><input type="checkbox" id="instructions-disabled" data-bind="checked: pref.instructions" /> <label for="instructions-disabled">Show instructions</label></li>
	<li><input type="checkbox" id="grid-disabled" data-bind="checked: pref.grid" /> <label for="grid-disabled">Show grid</label></li>
	<li><input type="checkbox" id="rekt-small-disabled" data-bind="checked: pref.rektCoords" /> <label for="rekt-small-disabled">Show coordinates next to button labels</label></li>
	<li><input type="checkbox" id="refs-disabled" data-bind="checked: pref.refs" /> <label for="refs-disabled">Show reference links next to button labels</label></li>
	<li>
		<input type="range" min="2" max="6" value="4" id="scale-main-slider" />
		<label for="scale-main-slider">Scale main screen by <span id="scale-main-value">?</span>×</label>
	</li>
</ul>
</div>

<div id="screens" data-bind="foreach: game().children()">
	<div class="category" data-bind="attr: { id: fullId }">
		<h2><strong data-bind="text: name">Category</strong> screens</h2>
		<!-- ko foreach: children() -->
		<div class="menu" data-bind="attr: { id: fullId }">
			<div class="menu-heading">
				<h3>
					<label data-bind="attr: { for: '_'+fullId }">
						<span data-bind="text: name">Screen</span>
						<span class="permalink">
							<a title="Permalink to this screen" data-bind="attr: { href: '#'+fullId }">#</a>
						</span>
					</label>
				</h3>
				<div class="toggle">
					<label data-bind="attr: { for: '_'+fullId }">Toggle buttons to</label>
					<input type="checkbox" data-bind="tppState: state, attr: { id: '_'+fullId }" />
				</div>
				<div class="layers scale-menu">
					<img data-bind="attr: { id: fullId+'-image', src: image }" />
					<canvas width="320" height="240" />
				</div>
			</div>
			<div class="menu-list">
				<ul data-bind="foreach: children()">
					<li class="rekt" data-bind="attr: { id: fullId }">
						<input type="checkbox" data-bind="tppState: state, attr: { id: '_'+fullId }" />
						<label data-bind="attr: { for: '_'+fullId }">
							<span class="name">
								<span data-bind="text: name">Button</span>
								<span class="permalink">
									<a title="Permalink to this button" data-bind="attr: { href: '#'+fullId }">#</a>
								</span>
							</span>
							<small data-bind="style: { backgroundColor: $root.getPaletteColor($index) }"><span>
									&#8598; <span data-bind="text: coords.p1().join()">X1,Y1</span><br/>
									&#8600; <span data-bind="text: coords.p2().join()">X2,Y2</span>
							</span></small>
						</label>
						<div class="refs" data-bind="foreach: refs">
							<a class="ref" data-bind="text: name(), attr: { href: link() }, css: refClass()">Button</a>
						</div>
					</li>
				</ul>
			</div>
		</div>
		<!-- /ko -->
	</li>
</div>

<div id="premium">
<h3>Premium-only screens</h3>
<p class="errors">Sorry, you’ve reached your limit of free coordinates for this month.</p>
<p>Every screen. Every button. Every coord. Yours for as low as JUST $0.99!*<br />
	<small>* for the first 4 weeks, then just $2.50 every week</small></p>
<p><a href="http://bit.ly/premium_coords">Subscribe now! »</a></p>
</div>

<p>If you notice any missing menus, missing buttons, incorrect coordinates, or other bugs, or you have an idea for a feature, please <a href="https://github.com/hftf/coords/issues">file an issue</a>.</p>
</section>

<section class="then">
<p>
	<a href="#" onclick="reset_all(); return false">Reset all checkboxes?</a>
	<span id="reset-screenshot" style="display: none;"> · <a href="#" onclick="State.setImage(); return false">Reset screenshot?</a></span>
</p>

<div class="layers scale-main">
<canvas id="zoom" ></canvas>
<canvas id="grid" ></canvas>
<canvas id="main" ></canvas>
<canvas id="varia"></canvas>
<canvas id="click"></canvas>
</div>

<p><strong><input type="text" id="coords-click" /></strong> clicks these buttons:</p>
<p id="coords-click-errors" class="errors" style="display: none;"></p>
<div id="overlaps" style="display: none;">
<p><input type="checkbox" data-bind="tppNoClick: true" checked       /> I want to click this button<br /><span id="overlaps-checked"></span></p>
<p><input type="checkbox" data-bind="tppNoClick: true, tppInd: true" /> I want to avoid clicking this button<br /><span id="overlaps-indeterminate"></span></p>
<p><input type="checkbox" data-bind="tppNoClick: true"               /> I don’t care if this button is clicked<br /><span id="overlaps-unchecked"></span></p>
</div>
</section>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js"></script>
<script src="http://getbootstrap.com/dist/js/bootstrap.min.js"></script>
<!--
<script src="state.js"></script>
<script src="draw.js"></script>
<script src="load.js"></script>
<script src="encode.js"></script>
<script src="coords.js"></script>
<script src="onset.js"></script>
-->
<script src="data/x/data.js"></script>
<script src="js/model.js"></script>
<script src="js/bindings.js"></script>
<script src="js/load.js"></script>
<script src="http://ophir.li/tpp/ga/ga.js"></script>
</body>
</html>
