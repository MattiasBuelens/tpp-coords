<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="tppCoords" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="tppCoords" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="tppCoords" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" ng-app="tppCoords" class="no-js"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Twitch Plays Pok&eacute;mon - Touch screen helper</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.1/normalize.min.css">
	<link rel="stylesheet" type="text/css" href="coords.css"/>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.2/modernizr.min.js"></script>
</head>
<body
	data-ng-controller="GameController"
	data-ng-class="{ 'rekt-small-disabled': !prefs.showCoords, 'grid-disabled': !prefs.showGrid, 'refs-disabled': !prefs.showRefs }">

	<section class="if">
		<h2>In <select data-ng-model="gameId" data-ng-options="id as name for (id, name) in games"></select>, if I want to click certain buttons while avoiding others…</h2>

		<aside>
			<p><strong>Check</strong> the boxes below to select constraints.
				<!-- TODO add example URL -->
				<a href="" data-ng-click="showExample()">Example: Fight but avoid items</a><br />
				As you click, the blue regions update, satisfying the constraints.</p>
			<p>You can share your configuration by copying the URL.
				<a href="" data-ng-click="resetAll()">Reset all checkboxes?</a></p>
		</aside>

		<div id="key">
			<p>Key:</p>
			<ul>
				<li><input type="checkbox" tpp-no-click checked /> I want to click this button</li>
				<li><input type="checkbox" tpp-no-click tpp-ind /> I want to avoid clicking this button</li>
				<li><input type="checkbox" tpp-no-click         /> I don’t care if this button is clicked</li>
			</ul>
		</div>

		<p id="toc" class="tm">
			Jump to a section:
			<span
				data-ng-repeat-start="category in game.categories"
				data-ng-if="!$first"> &middot; </span>
			<a
				data-ng-repeat-end=""
				href="#{{ ::category.getId() }}">{{ ::category.name }}</a>
		</p>

		<div>
			<div
				data-ng-repeat="category in game.categories"
				id="{{ ::category.getId() }}"
				class="category">
				<h2><strong>{{ ::category.name }}</strong> screens</h2>
				<div
					data-ng-repeat="menu in ::category.menus"
					data-ng-controller="MenuController"
					class="menu">
					<div class="menu-heading">
						<h3>
							<input
								type="checkbox"
								data-tpp-rotate="menu"
								id="{{ ::menu.getId() }}" />
							<label
								for="{{ ::menu.getId() }}">
								{{ ::menu.name }}
							</label>
						</h3>
						<div class="layers">
							<img data-ng-src="{{ ::menu.getImage() }}" />
						</div>
					</div>
					<div class="menu-list">
						<ul>
							<li
								data-ng-repeat="button in menu.buttons"
								data-ng-controller="ButtonController"
								class="rekt">
								<input
									type="checkbox"
									data-tpp-rotate="button"
									id="{{ ::button.getId() }}" />
								<label
									for="{{ ::button.getId() }}">
									<strong>{{ ::button.name }}</strong>
									<small
										class="rekt-color"
										style="background-color: {{ ::button.color }}">
										<span
											class="rekt-coords">
											&#8598; {{ ::button.coords.p1() | point }} <br/>
											&#8600; {{ ::button.coords.p2() | point }}
										</span>
									</small>
								</label>
								<div class="refs">
									<span
										data-ng-repeat-start="ref in ::button.getRefs()"
										data-ng-if="!$first">,</span>
									<a
										data-ng-repeat-end=""
										href="{{ ::ref.link }}"
										class="ref {{ ::ref.refClass }}"
										title="{{ ::ref.title }}">{{ ::ref.name }}</a>
								</div>
							</li>
						</ul>
					</ul>
				</div>
			</div>
		</div>

		<div id="prefs">
		<p>Preferences:</p>
		<ul>
			<li><label><input type="checkbox" data-ng-model="prefs.showGrid" /> Show grid</label></li>
			<li><label><input type="checkbox" data-ng-model="prefs.showCoords" /> Show coordinates next to button labels</label></li>
			<li><label><input type="checkbox" data-ng-model="prefs.showRefs" /> Show reference links next to button labels</label></li>
		</ul>
		</div>

		<p>If you notice any missing menus, missing buttons, incorrect coordinates, or other bugs, or you have an idea for a feature, please <a href="https://github.com/hftf/coords/issues">file an issue</a>.</p>
	</section><!--

	--><section class="then">
		<h2>…then I can use these coordinates: <span id="coords-hover"></span></h2>

		<p>
			<strong>Click</strong> below for a list of buttons triggered by the clicked coordinate.<br />
			<strong>Hover</strong> over the blue regions to display coordinates (after selecting constraints).<br />
		</p>


		<div class="layers">
			<canvas id="zoom"  width="1024" height="768"></canvas>
			<canvas id="grid"  width="1024" height="768"></canvas>
			<canvas id="main"  width="1024" height="768"></canvas>
			<canvas id="varia" width="1024" height="768"></canvas>
			<canvas id="click" width="1024" height="768"></canvas>
		</div>

		<p id="reset-screenshot" style="display: none;"><a href="#" onclick="State.setImage(); return false">Reset screenshot</a></p>
		<p><strong><input type="text" id="coords-click" /></strong> clicks these buttons:</p>
		<p id="coords-click-errors"></p>
		<div id="overlaps" style="display: none;">
		<p><input type="checkbox" tpp-no-click checked /> I want to click this button<br /><span id="overlaps-checked"></span></p>
		<p><input type="checkbox" tpp-no-click tpp-ind /> I want to avoid clicking this button<br /><span id="overlaps-indeterminate"></span></p>
		<p><input type="checkbox" tpp-no-click         /> I don’t care if this button is clicked<br /><span id="overlaps-unchecked"></span></p>
		</div>
	</section>

	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.15/angular.min.js"></script>
	<script src="js/app.js"></script>
	<script src="js/models.js"></script>
	<script src="js/services.js"></script>
	<script src="js/controllers.js"></script>
	<script src="js/filters.js"></script>
	<script src="js/directives.js"></script>
</body>
</html>
